<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .card:hover{
            box-shadow: 10px 10px 5px rgba(175, 167, 167,0.3);
        }

        #password,#doctorName,#idCard{
          border:0;
          background: none;
          margin:10px;
          text-align: center;
          border: 2px solid #317cf6;
          padding: 5px;
          width: 250px;
          outline: none;
          color: rgb(142, 142, 142);
          border-radius: 24px;
          transition: 0.25s;
        }
    </style>
    	<!-- ä» CDN å¯¼å…¥ axios  -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- å¯¼å…¥ vue åº“æ–‡ä»¶ -->
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <!-- å›¾æ ‡ -->
  <script src="https://kit.fontawesome.com/14e0b8159c.js" crossorigin="anonymous"></script>
     <!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>é¦–é¡µ</title>
</head>
<body>
    <!-- å¯¼èˆª -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#">ä¸œæ–¹åŒ»é™¢ğŸ¥
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item active mx-3">
              <a class="nav-link active" href="./HomePage.html">é¦–é¡µ <span class="sr-only">(current)</span></a>
            </li>

            <li class="nav-item mx-3" >
              <div class="dropdown">
                <a class="nav-link dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown" aria-expanded="false">åŒ»é™¢æ¦‚å†µ</a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  <a class="dropdown-item" href="./HospitalInfo.html">åŒ»é™¢ç®€ä»‹</a>
                  <a class="dropdown-item" href="./HospitalCultrue.html">åŒ»é™¢æ–‡åŒ–</a>
                  <a class="dropdown-item" href="./HospitalHistroy.html">åŒ»é™¢å†å²</a>
                </div>
              </div>
          </li>

            <li class="nav-item mx-3">
                <a class="nav-link" href="./Department.html">ç§‘å®¤å¯¼èˆª</a>
            </li>
      
            <li class="nav-item mx-3" >
              <div class="dropdown">
                <a class="nav-link dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown" aria-expanded="false">åŒ»ç–—æœåŠ¡</a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  <a class="dropdown-item" href="#">å°±è¯Šé¡»çŸ¥</a>
                  <a class="dropdown-item" href="#">ä½é™¢é¡»çŸ¥</a>
                  <a class="dropdown-item" href="#">é—¨è¯Šæ’ç­</a>

                </div>
              </div>
            </li>

            <li class="nav-item mx-3" >
                <a class="nav-link" href="#">å¥åº·çŸ¥è¯†</a>
            </li>

            <li class="nav-item mx-3" >
              <a class="nav-link " href="#">ä¿¡æ¯å’¨è¯¢</a>
            </li>

            <li class="nav-item mx-3" >
              <a class="nav-link " href="#">é€šçŸ¥å…¬å‘Š</a>
            </li>

            
            


           
          </ul>
        </div>
    </nav>
    <!-- å·¨å¹• -->
    
    <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="./img/4.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="./img/5.png" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="./img/6.png" class="d-block w-100" alt="...">
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½éƒ¨åˆ† -->
    <div class="container" id="app">
        <div class="row text-center">

            <div class="col-lg-3 first">
              <a href="./Department.html" class="text-decoration-none">
                <div class="card mt-lg-5 " href="#">
                    <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                    <div class="card-body">
                      <i class="fa-regular fa-hospital"></i>
                      <h5 class="card-title">ç§‘å®¤å¯¼èˆª</h5>
                      <p class="card-text">Department Navigation</p>
                      
                    </div>
                  </div>
              </a>
            </div>
            
            <div class="col-lg-3 second">
              <a href="./Login.html" class="text-decoration-none">
                     <div class="card mt-lg-5">
                        <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                        <div class="card-body">
                          <i class="fa-regular fa-calendar-check"></i>
                          <h5 class="card-title">é¢„çº¦æŒ‚å·</h5>
                          <p class="card-text">Register</p>
                          
                        </div>
                      </div> 
              </a>
            </div>

            <div class="col-lg-3 third">
              <a href="#" class="text-decoration-none" data-toggle="modal" data-target="#exampleModal1">
                <div class="card mt-lg-5 ">
                    <div class="card-body">
                      <i class="fa-solid fa-hand-holding-medical"></i>
                      <h5 class="card-title">é¢„çº¦ä¿¡æ¯</h5>
                      <p class="card-text">Appointment</p>
                    </div>
                  </div> 
                </a>


              <!-- Modal -->
              <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">å°±è¯Šäººèº«ä»½ç¡®è®¤</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div>
                        <div>
                          å°±è¯ŠäººIDï¼š<input id="idCard" type="text" onkeyup="value=value.replace(/[^\d|x]{1}/g,'')" maxlength="18" v-model="id_card">
                        </div>
                        <div>
                          å¯†ç ï¼š<input id="password" type="password" onkeyup="value=value.replace(/[^\d|x]{1}/g,'')" maxlength="11" v-model="phone">
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">å–æ¶ˆ</button>
                      <button type="button" class="btn btn-primary" @click="pLoginBtn()">ç¡®è®¤</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>

            <div class="col-lg-3 forth">
              <a href="#" class="text-decoration-none">
                 <div class="card mt-lg-5 mb-lg-5">
                    <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                    <div class="card-body">
                      <i class="fa-solid fa-user-doctor"></i>
                      <h5 class="card-title">åŒ»ç”Ÿæ’ç­</h5>
                      <p class="card-text">Doctor scheduling</p>
                    </div>
                  </div> 
              </a>
            </div>

            <div class="col-lg-3 first">
              <a href="#" class="text-decoration-none">
                <div class="card mt-lg-5 " href="#">
                    <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                    <div class="card-body">
                      <i class="fa-regular fa-hospital"></i>
                      <h5 class="card-title">å¥åº·çŸ¥è¯†</h5>
                      <p class="card-text">Health knowledge</p>
                      
                    </div>
                  </div>
              </a>
            </div>
            
            <div class="col-lg-3 second">
              <a href="#" class="text-decoration-none">
                     <div class="card mt-lg-5">
                        <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                        <div class="card-body">
                          <i class="fa-regular fa-calendar-check"></i>
                          <h5 class="card-title">é€šçŸ¥å…¬å‘Š</h5>
                          <p class="card-text">Notice announcement</p>
                          
                        </div>
                      </div> 
              </a>
            </div>

            <div class="col-lg-3 third">
              <a href="#" class="text-decoration-none">
                <div class="card mt-lg-5 ">
                    <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                    <div class="card-body">
                      <i class="fa-solid fa-hand-holding-medical"></i>
                      <h5 class="card-title">ä¿¡æ¯å’¨è¯¢</h5>
                      <p class="card-text">information consultation</p>
                    </div>
                  </div> 
                </a>
            </div>

            <div class="col-lg-3 forth" >
              <a href="#" class="text-decoration-none" data-toggle="modal" data-target="#exampleModal">
                 <div class="card mt-lg-5 mb-lg-5">
                    <!-- <img src="./img/indeximg1.png" class="card-img-top" alt="..."> -->
                    <div class="card-body">
                      <i class="fa-solid fa-user-doctor"></i>
                      <h5 class="card-title">å°±è¯Šäººç®¡ç†</h5>
                      <p class="card-text">Patient management</p>
                    </div>
                  </div> 
              </a>

              <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">åŒ»ç”Ÿèº«ä»½ç¡®è®¤</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
					<div>
            åŒ»ç”Ÿå§“åï¼š<input id="doctorName" type="text" onkeyup="value=value.replace(/[\d]/g,'') " onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[\d]/g,''))" maxlength="10" v-model="name">
          </div>
					<div>
            å¯†ç ï¼š<input id="password" type="password" onkeyup="value=value.replace(/[^\d|x]{1}/g,'')" maxlength="11" v-model="pasWord">
          </div>
				</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">å–æ¶ˆ</button>
        <button type="button" class="btn btn-primary" @click="dLoginBtn(doctors)">ç¡®è®¤</button>
      </div>
    </div>
  </div>
</div>

        </div>
    </div>

  <!-- Footer -->
<div class="jumbotron jumbotron-fluid ">
  <div class="container">
        <p class="lead text-center font-weight-lighter">copyright HRYXYLHLJZSN@2022</p>
    </div>
</div>

</body>

<script>
  let vue = new Vue({
      el: '#app',
      data: {
      doctors:[],
      name:'æ‰é¹Š',
      pasWord:'123456',
      passWord:'123456',
      names:[],
      patients:[],
      id_card:'430103200104020043',
      phone:'15011111111',
      ids:[],
      phones:[],
      },
  
  
      created() {
        let url = 'http://localhost:8080/doctor/findAll';
        axios.get(url).then(res => {
          this.doctors = res.data;
          console.log(this.doctors);
        }).catch(err => {
          console.error(err);
        });

      url = 'http://localhost:8080/hospital/patient/select';
      axios.get(url).then(res => {
        this.patients = res.data;
				console.log(this.patients);
      }).catch(err => {
        console.error(err);
      });
  
      },
  
      methods: {


        pLoginBtn(patients){
			this.exist=true;
			// é»˜è®¤æŒ‰é’®ä¸å¯ç‚¹å‡»ä»¥åŠä¸å‡ºç°å§“åå’Œç”µè¯
			let size=this.patients.length;
			for(let i=0;i<size;i++){
				this.ids[i]=this.patients[i].id;
				this.phones[i]=this.patients[i].phone;
			};
		
				console.log(this.id_card);
				console.log(this.phone);
				console.log(this.ids);
				console.log(this.phones);
			if(this.ids.indexOf(this.id_card)!=-1 &&this.phones[this.ids.indexOf(this.id_card)]==(this.phone)){
				alert("ç™»å½•æˆåŠŸï¼ï¼");
				window.location.href='./AppointmentInfo.html';
			}else if(this.ids.indexOf(this.id_card)!=-1){
				this.phone='';
				alert("å¯†ç é”™è¯¯ï¼ï¼");
			}else{
				alert("æ²¡æœ‰è¯¥å°±è¯Šäººï¼Œè¯·å…ˆæ³¨å†Œã€‚");
				this.id_card='';
				this.name='';
				this.phone='';
			}
			if(window.localStorage){
					localStorage.value=this.id_card;
					Location.href="./Appointmentinfo.html";
			}

      },

      dLoginBtn(doctor){
        let size=this.doctors.length;
        for(let i=0;i<size;i++){
          this.names[i]=this.doctors[i].name;
        };
          console.log(this.names);
          console.log(this.doctors);
        if(this.names.indexOf(this.name)!=-1 &&this.pasWord==this.passWord){
          alert("ç™»å½•æˆåŠŸï¼ï¼");
          window.location.href='./Patient.html';
        }else if(this.pasWord!=this.passWord){
          alert("å¯†ç é”™è¯¯ï¼ï¼");
          this.pasWord='';
        }else{
          alert("æ²¡æœ‰è¯¥åŒ»ç”Ÿä¿¡æ¯ï¼Œæ— æ³•æŸ¥çœ‹å°±è¯Šäººä¿¡æ¯ã€‚");
          }
        },
  
  
  },
    })
  </script>

</html>